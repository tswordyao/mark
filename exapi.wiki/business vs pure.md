# business vs pure

## 回顾与体会
```
开发和维护bigbang框架的过程中, 回顾以往的代码, 我有一些思考.

现在看来,很多方法解耦得不够, 比如customCol.然而要解耦,就得把弹窗设置这一部分抽象出来,让调用者自己实现.

然而在具体的业务产品上,弹窗设置这部分的功能和样式又都是确定的,让使用者自己去实现这部分又显得封装得不够.
```


* 这是business下封装和纯技术下pure封装的不同 

```
pure的时候,不需要也无从考虑具体的产品要求. 于是尽可能地内聚和精简依赖,有依赖会严格确定,一般是开源的.

提供核心功能的实现, 开放多参数的配置,把会因业务需求不同的耦合部分换为抽象实现. 

```

```
business下,有了具体的业务需求,有可能是千奇百怪的,有可能某项目统一风格的.

如果是千奇百怪的,那么原来的封装提供的抽象实现也不管事,必须得再解耦一层,只能留下最核心的几块可以复用.

如果是统一风格的,那么原来封装中解耦的抽象实现部分,就没有理由再抽象,而需要把统一的业务需求做为一种标准实现,耦合到原来的封装中. 

不然,每个人使用你这个封装方法的时候, 都需要再加入一个通用方法, 去同样的方式去实现你封装里的抽象部分.

第二种情况下,业务需求自然而然就成为了需要被封装的一部分. 这就是business下的封装.

当然也有第三种情况,就是业务需求不另类也没有自定一套规则,那么就能使用标准的封装模式 pure(param), 只是现在的环境下,这样的情况比以前少多了.
```

<br>

## 痛点在哪里? 

```
business如果不能或不进行封装, 如上文第一种情况的各奇百怪, 那么具体细节的量就多, 问题出现的位置也会散,管理者对各个页面要各花心思了解, 开发者也要各自实现.

business如果做了封装甚至成为了基础封装的一部分(一般会以一种统一的范式或需求形式). 那么你的代码就不再pure了. 我们封装的部分是追求相对static, 希望只有开放出来的参数,配置,接口是dynamic的.

然而融入的business是dynamic的. 这种追求的static就不复存在了. 那框架类库和组件的封装者就成为了疲于奔命的business coder.

所以winter 去做 technical expert 而不是 business leader.
```

```
需求往往是不可靠的,即使是统一的需求.

举个例子,class就是一种static,用constructor配合params生成instance实现dynamic.

理想情况会很理想,然而business的变化频繁更改实体类的字段.....

所以当business进入封装后,那么static不再取决于你了. 

需求相对确定,代码就相对稳定, 需求过于dynamic甚至没有预计周全,那么class都会被人工dynamic得一塌糊涂.

何况封装的组件,方法呢?
``` 
<br>

## 破局
```
问题是现实的.现实是需要面对的,就如问题是需要解决的.

不再pure的封装就像结婚生了子的少女. 婚姻是很麻烦,小孩更麻烦. 然而逃避结婚生子并不是办法, 有婚姻和儿女也给我们带来莫大的福利.

business给我们带来了收益,因此才有coding. 所以问题不是business,是怎么融合和满足business的情况下, 保持自己的那部分.

```

`` 更多一层抽象``

```
上文我们说到:

作为business下封装组件和方法的开发者,不融入统一业务需求的封装是不现实的. 

因此大部分公司都会在已有开源框架或类库的基础上,再进行一层结合了自身业务需求的封装.

这种封装加入后, 破坏了原来的pure, 技术中掺杂了业务. 假设此时再给第三方用,一般是没法用的. 第三方必须依样画葫芦配合公司所加的那层业务封装, 否则就去掉.

而第三方往往不愿意使用你家掺入的业务封装, 说白了就是他家有他家的需求和套路. 

此时能给他的最好的选择,就是能把你家掺入的业务方便地去掉----如果你想你封装的东西离开了当下的公司业务还能有用的话.

更多一层抽象的意义,就在于此. 

用这一层将原来pure的封装部分和business封装部分结合起来,组成一个大封装, 给业务开发人员用.

当离开当下业务场景的时候, 直接剥离, 或加入另外的实现.
```
<br>

* 反狗粮的比方

```
封建社会和现代社会女子婚姻对比

封建婚姻女子是强耦合, 难以干净解耦, 只有被动被抛弃.

现代婚姻模式可以结合, 也可以主动解散.

结合的时候拿出一部分公用,但你也可以保留自己部分的身心财产私有, 解散的时候就可以干净解散, 重组家庭.
```
<br>

* 对, 就是这个意思

```
技术就是女子,业务是男子,而现在还是男权社会----特别是web开发

所以技术代码既要处理好与业务需求相处, 又要懂得保护自己.

不要让自己离开了业务场景后一无所用.

解耦的能力是为了你自己.
```

